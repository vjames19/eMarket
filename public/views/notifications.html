<div data-role="page" data-theme="b" id="notifications">

  <div data-role="header" data-position="fixed" data-theme="a">
    <h1>Notifications</h1>
    <a href="#home-user" data-role="button" data-icon="back" data-direction="reverse">Back</a>

    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right">
      <a href="#shopping-cart" class="ui-btn ui-shadow ui-icon-shop ui-btn-icon-notext ui-mini">Cart</a>
    </div>
    <search></search>
  </div>

  <div data-role="content">

    <ul data-role="listview" data-theme="b" data-divider-theme="a" data-inset="true"
        id="notifications-notificationList">
      <li data-role="list-divider">
        <table>
          <tr>
            <td>Notifications</td>
            <td><span class="ui-li-count">{{notifications.length}}</span></td>
          </tr>
        </table>
      </li>
      <li data-icon="false" ng-repeat="notification in notifications | orderBy:'+isRead'">
        <a href="#notifications-infoPopup" data-rel="popup" data-inline="true" data-transition="pop"
           ng-click="readMessage(notification)">
          <table class="ui-responsive medium-text wrap-text">
            <tr>
              <th rowspan="2">
                <img ng-src="img/envelope.png" class="envelope-image ui-corner-all" src="" alt="Envelope_Picture">
              </th>
              <th rowspan="2" class="pad"></th>
              <th>
                <strong><abbr title="{{ getStatus(notification) }}">{{ getStatus(notification) }}</abbr></strong>
              </th>
            </tr>
            <tr>
              <td><em>{{ notification.message | truncate:45 }}</em></td>
            </tr>
          </table>
        </a>
      </li>
    </ul>

  </div>

  <div data-role="popup" id="notifications-infoPopup" class="ui-content" data-theme="a" style="max-width: 320px">
    <a href="#notifications" data-rel="external" data-role="button" data-theme="b" data-icon="delete"
       data-iconpos="notext" class="ui-btn-right">Close</a>

    <p id="notifications-message" style="text-align: center"></p>
  </div>

  <div data-role="popup" id="notifications-statusPopup" data-theme="a" class="ui-corner-all ui-content">
    <a href="#notifications" data-rel="external" data-role="button" data-theme="b" data-icon="delete"
       data-iconpos="notext" class="ui-btn-right">Close</a>
    <p id="notifications-statusPopupMessage" style="text-align: center"></p>
  </div>

  <div data-role="footer" data-theme="a"><h1></h1></div>

</div>
