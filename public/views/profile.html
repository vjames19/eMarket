<div data-role="page" data-theme="b" id="profile">
  <div data-role="header" data-position="fixed" data-theme="a">
    <h1>Profile</h1>

    <!--go back to the index page data-rel="back" reverse the transition back -->
    <a href="#index-page" data-role="button" data-icon="back" data-direction="reverse">Back</a>

    <a href="#shopping-cart" id="shopping-cart" data-role="button" class="ui-btn-right">Cart</a>
    <search></search>

  </div>

  <div data-role="content">

    <form data-ajax="false" ng-submit="submitUser()">
      <div data-role="collapsible">
        <h2>Edit Profile Information</h2>
        <ul data-role="listview" data-theme="d" data-divider-theme="d">
          <li data-role="list-divider">UserName: <span class="ui-li-count">{{user.username}}</span></li>
        </ul>
        <div data-role="fieldcontain">
          <label for="firstname"><strong>First Name</strong></label>
          <input type="text" id="firstname" ng-model="user.firstName">
          <label for="middlename"><strong>Middle Name</strong></label>
          <input type="text" id="middlename" ng-model="user.middleName">
          <label for="lastname"><strong>Last Name</strong></label>
          <input type="text" id="lastname" ng-model="user.lastName">
          <label for="email"><strong>Email</strong></label>
          <input type="email" id="email" ng-model="user.email">
          <label for="telephone"><strong>Telephone</strong></label>
          <input type="tel" id="telephone" ng-model="user.telephone">

          <label for="select-question1"><strong>Question 1</strong></label>
          <select name="select-question1" id="select-question1" ng-model="question1"
                  ng-options="question1 for question1 in questions">
          </select>
          <label for="answer-question1"><strong>Answer</strong></label>
          <input type="text" id="answer-question1" ng-model="questionsAnswers[0].answer">

          <label for="select-question2"><strong>Question 2</strong></label>
          <select id="select-question2" ng-model="question2"
                  ng-options="question2 for question2 in questions">
          </select>
          <label for="answer-question2"><strong>Answer</strong></label>
          <input type="text" id="answer-question2" ng-model="questionsAnswers[1].answer">

          <label for="select-question1"><strong>Question 3</strong></label>
          <select id="select-question3" ng-model="question3"
                  ng-options="question3 for question3 in questions">
          </select>
          <label for="answer-question3"><strong>Answer</strong></label>
          <input type="text" id="answer-question3" ng-model="questionsAnswers[2].answer">

          <label for="old-password"><strong>Old Password</strong></label>
          <input type="password" id="old-password" autocomplete="off" value="">
          <label for="new-password"><strong>New Password</strong></label>
          <input type="password" id="new-password" autocomplete="off" value="">
          <label for="new-password-confirm"><strong>Confirm Password</strong></label>
          <input type="password" id="new-password-confirm" autocomplete="off" value="">
        </div>
        <div data-role="controlgroup" data-type="horizontal" style="text-align: center">
          <a href="#index-page" data-role="button" data-icon="delete" data-theme="a" data-transition="fade">Cancel</a>
          <!--<a href="#index-page" data-role="button" data-icon="check" data-theme="a" data-transition="fade"-->
          <!--ng-click="submitUser()">Submit</a>-->
          <button type="submit" data-icon="check" data-theme="a">Submit</button>
        </div>
      </div>
    </form>

    <div data-role="collapsible-set" data-theme="b" data-content-theme="d">
      <div data-role="collapsible">
        <h2>Edit Mailing Addresses</h2>
        <ul data-role="listview" data-theme="d" data-divider-theme="d" id="mailAddressList">
          <li data-role="list-divider">Mail Addresses on System
            <a href="#add-mailing-address" data-role="button" data-iconpos="notext" data-icon="plus" data-theme="b"
               class="ui-btn-right">Add Mailing Address</a>
            <span class="ui-li-count">{{mailAddresses.length}}</span></li>
          <li ng-repeat="mailAddress in mailAddresses">
            <a href="">
              <table class="xsmall-text">
                <tr>
                  <td><strong>Name:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{mailAddress.recipientName}}</em></td>
                </tr>
                <tr>
                  <td><strong>Address:</strong></td>
                  <td class="pad"></td>
                  <td class="wrap-text"><em>{{mailAddress.address}}</em></td>
                </tr>
                <tr>
                  <td><strong>Country:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{mailAddress.country}}</em></td>
                </tr>
                <tr>
                  <td><strong>City:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{mailAddress.city}}</em></td>
                </tr>
                <tr>
                  <td><strong>State/Region/Prov.:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{mailAddress.geographicalRegion}}</em></td>
                </tr>
                <tr>
                  <td><strong>ZipCode:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{mailAddress.zipCode}}</em></td>
                </tr>
                <tr>
                  <td><strong>Telephone:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{mailAddress.telephone}}</em></td>
                </tr>
              </table>
            </a>
            <a href="#mailingAddressPopupMenu" data-rel="popup" data-inline="true" data-transition="slideup"
               data-position-to="window" data-icon="gear" data-theme="c"
               ng-click="setMailInfo(mailAddress); selectMailAddress(mailAddress, $index)"></a>
          </li>
        </ul>
      </div>
      <div data-role="collapsible">
        <h2>Edit Billing Addresses</h2>
        <ul data-role="listview" data-theme="d" data-divider-theme="d" id="billAddressList">
          <li data-role="list-divider">Bill Addresses on System
            <a href="#add-billing-address" data-role="button" data-iconpos="notext" data-icon="plus" data-theme="b"
               class="ui-btn-right">Add Billing Address</a>
            <span class="ui-li-count">{{billAddresses.length}}</span></li>
          <li ng-repeat="billAddress in billAddresses">
            <a href="">
              <table class="xsmall-text">
                <tr>
                  <td><strong>Name:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{billAddress.recipientName}}</em></td>
                </tr>
                <tr>
                  <td><strong>Address:</strong></td>
                  <td class="pad"></td>
                  <td class="wrap-text"><em>{{billAddress.address}}</em></td>
                </tr>
                <tr>
                  <td><strong>Country:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{billAddress.country}}</em></td>
                </tr>
                <tr>
                  <td><strong>City:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{billAddress.city}}</em></td>
                </tr>
                <tr>
                  <td><strong>State/Region/Prov.:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{billAddress.geographicalRegion}}</em></td>
                </tr>
                <tr>
                  <td><strong>ZipCode:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{billAddress.zipCode}}</em></td>
                </tr>
                <tr>
                  <td><strong>Telephone:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{billAddress.telephone}}</em></td>
                </tr>
              </table>
            </a>
            <a href="#billingAddressPopupMenu" data-rel="popup" data-inline="true" data-transition="slideup"
               data-position-to="window" data-icon="gear" data-theme="c"
               ng-click="setBillInfo(billAddress); selectBillAddress(billAddress, $index)"></a>
          </li>
        </ul>
      </div>
      <div data-role="collapsible" data-iconpos="bottom" data-theme="b" data-content-theme="c">
        <h2>My Ratings</h2>
        <ul data-role="listview" data-theme="c" data-divider-theme="e" id="ratingList">
          <li data-role="list-divider">Total Average User Rating:<span class="ui-li-count"> <div class="star" data-score="rating.avgRating"></div></span></li>
          <li ng-repeat="rating in ratings" data-icon="false">
            <a href="#">
              <table>
                <tr>
                  <td><strong>User:</strong></td>
                  <td class="pad"></td>
                  <td><em>{{rating.raterName}}</em></td>
                </tr>
                <tr>
                  <td><strong>Rating:</strong></td>
                  <td class="pad"></td>
                  <!--<td><em>{{getStars(rating.rating)}}</em></td>-->
                  <td><div class="star" data-score="{{ rating.rating }}"></div></td>
                </tr>
              </table>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div data-role="popup" id="mailingAddressPopupMenu" data-theme="d">
    <div style="padding:10px 20px;">
      <h3>Choose An Action</h3>
      <a href="#edit-mailing-address" data-role="button" data-icon="edit">Edit</a>
      <a href="#profile" data-role="button" data-icon="delete" ng-click="deleteMailAddress()">Delete</a>
      <a href="#profile" data-role="button" data-icon="back">Cancel</a>
    </div>
  </div>

  <div data-role="popup" id="billingAddressPopupMenu" data-theme="d">
    <div style="padding:10px 20px;">
      <h3>Choose An Action</h3>
      <a href="#edit-billing-address" data-role="button" data-icon="edit">Edit</a>
      <a href="#profile" data-role="button" data-icon="delete" ng-click="deleteBillAddress()">Delete</a>
      <a href="#profile" data-role="button" data-icon="back">Cancel</a>
    </div>
  </div>

  <div data-role="footer" data-theme="a"><h1></h1></div>
</div>
