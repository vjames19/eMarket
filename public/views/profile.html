<div data-role="page" data-theme="b" id="profile">
<div data-role="header" data-position="fixed" data-theme="a">
  <h1>Profile</h1>

  <a href="#home-user" data-role="button" data-icon="back" data-direction="reverse">Back</a>

  <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right">
    <a href="#shopping-cart" class="ui-btn ui-shadow ui-icon-shop ui-btn-icon-notext ui-mini">Cart</a>
  </div>

  <search></search>
</div>

<div data-role="content">

<form data-ajax="false" ng-submit="submitUser()">
  <div data-role="collapsible" data-theme="a" data-content-theme="a">
    <h2>Edit Profile Information</h2>
    <ul data-role="listview" data-theme="a" data-divider-theme="b" data-inset="true">
      <li data-role="list-divider">
        <table>
          <tr>
            <td>UserName</td>
            <td class="pad"></td>
            <td><span class="ui-li-count">{{user.username}}</span></td>
          </tr>
        </table>
      </li>
    </ul>
    <div class="form-pad">
      <label for="firstname"><strong>First Name</strong></label>
      <input type="text" id="firstname" ng-model="user.firstName" ng-required="true">
      <label for="middlename"><strong>Middle Name</strong></label>
      <input type="text" id="middlename" ng-model="user.middleName" ng-required="false">
      <label for="lastname"><strong>Last Name</strong></label>
      <input type="text" id="lastname" ng-model="user.lastName" ng-required="true">
      <label for="email"><strong>Email</strong></label>
      <input type="email" id="email" ng-model="user.email" ng-required="true">
      <label for="telephone"><strong>Telephone</strong></label>
      <input type="tel" id="telephone" ng-model="user.telephone" ng-required="true">

      <label for="select-question1"><strong>Question 1</strong></label>
      <select id="select-question1" ng-model="user.question1"
              ng-options="question.id as question.question for question in questions" ng-required="true">
      </select>
      <label for="answer-question1"><strong>Answer</strong></label>
      <input type="text" id="answer-question1" ng-model="user.questionAnswer1" ng-required="true">

      <label for="select-question2"><strong>Question 2</strong></label>
      <select id="select-question2" ng-model="user.question2"
              ng-options="question.id as question.question for question in questions" ng-required="true">
      </select>
      <label for="answer-question2"><strong>Answer</strong></label>
      <input type="text" id="answer-question2" ng-model="user.questionAnswer2" ng-required="true">

      <label for="select-question1"><strong>Question 3</strong></label>
      <select id="select-question3" ng-model="user.question3"
              ng-options="question.id as question.question for question in questions" ng-required="true">
      </select>
      <label for="answer-question3"><strong>Answer</strong></label>
      <input type="text" id="answer-question3" ng-model="user.questionAnswer3" ng-required="true">

      <label for="old-password"><strong>Old Password</strong></label>
      <input type="password" id="old-password" autocomplete="off" ng-model="user.oldPassword" ng-required="false">
      <label for="new-password"><strong>New Password</strong></label>
      <input type="password" id="new-password" autocomplete="off" ng-model="user.newPassword" ng-required="false">
      <label for="new-password-confirm"><strong>Confirm Password</strong></label>
      <input type="password" id="new-password-confirm" autocomplete="off" ng-model="user.newPasswordConfirm"
             ng-required="false">
    </div>
    <div data-role="controlgroup" data-type="horizontal" data-theme="b" style="text-align: center">
      <a href="#home-user" data-role="button" data-icon="delete" data-transition="fade">Cancel</a>
      <button type="submit" data-icon="check">Submit</button>
    </div>
  </div>
</form>

<div data-role="collapsible-set">

  <div data-role="collapsible" data-theme="a" data-content-theme="false">
    <h2>Edit Mailing Addresses</h2>
    <ul data-role="listview" id="mailAddressList" data-theme="a" data-divider-theme="b">
      <li data-role="list-divider">
        <table>
          <tr>
            <td><strong>Mail Addresses on System</strong></td>
            <td class="pad"></td>
            <td><a href="#add-mailing-address" class="ui-btn ui-btn-a ui-icon-plus ui-btn-icon-notext ui-corner-all">Add
              Mailing
              Address</a>
            </td>
            <td><span class="ui-li-count">{{mailAddresses.length}}</span></td>
          </tr>
        </table>
      </li>
      <li ng-repeat="mailAddress in mailAddresses">
        <a href="">
          <table class="x-small-text">
            <tr>
              <td><strong>Name:</strong></td>
              <td class="pad"></td>
              <td><em>{{mailAddress.recipientName}}</em></td>
            </tr>
            <tr>
              <td><strong>Address:</strong></td>
              <td class="pad"></td>
              <td class="wrap-text"><em>{{mailAddress.address}}</em></td>
            </tr>
            <tr>
              <td><strong>Country:</strong></td>
              <td class="pad"></td>
              <td><em>{{mailAddress.country}}</em></td>
            </tr>
            <tr>
              <td><strong>City:</strong></td>
              <td class="pad"></td>
              <td><em>{{mailAddress.city}}</em></td>
            </tr>
            <tr>
              <td><strong>State/Region/Prov.:</strong></td>
              <td class="pad"></td>
              <td><em>{{mailAddress.geographicalRegion}}</em></td>
            </tr>
            <tr>
              <td><strong>ZipCode:</strong></td>
              <td class="pad"></td>
              <td><em>{{mailAddress.zipCode}}</em></td>
            </tr>
            <tr>
              <td><strong>Telephone:</strong></td>
              <td class="pad"></td>
              <td><em>{{mailAddress.telephone}}</em></td>
            </tr>
          </table>
        </a>
        <a href="#mailingAddressPopupMenu" data-rel="popup" data-inline="true" data-transition="slideup"
           data-position-to="window" data-icon="gear" data-theme="c"
           ng-click="setMailInfo(mailAddress); selectMailAddress(mailAddress, $index)"></a>
      </li>
    </ul>
  </div>
  <div data-role="collapsible" data-theme="a" data-content-theme="false">
    <h2>Edit Billing Addresses</h2>
    <ul data-role="listview" id="billAddressList" data-theme="a" data-divider-theme="b">
      <li data-role="list-divider">
        <table>
          <tr>
            <td><strong>Bill Addresses on System</strong></td>
            <td class="pad"></td>
            <td><a href="#add-billing-address" class="ui-btn ui-btn-a ui-icon-plus ui-btn-icon-notext ui-corner-all">Add
              Billing
              Address</a>
            </td>
            <td><span class="ui-li-count">{{billAddresses.length}}</span></td>
          </tr>
        </table>
      </li>
      <li ng-repeat="billAddress in billAddresses">
        <a href="">
          <table class="x-small-text">
            <tr>
              <td><strong>Name:</strong></td>
              <td class="pad"></td>
              <td><em>{{billAddress.recipientName}}</em></td>
            </tr>
            <tr>
              <td><strong>Address:</strong></td>
              <td class="pad"></td>
              <td class="wrap-text"><em>{{billAddress.address}}</em></td>
            </tr>
            <tr>
              <td><strong>Country:</strong></td>
              <td class="pad"></td>
              <td><em>{{billAddress.country}}</em></td>
            </tr>
            <tr>
              <td><strong>City:</strong></td>
              <td class="pad"></td>
              <td><em>{{billAddress.city}}</em></td>
            </tr>
            <tr>
              <td><strong>State/Region/Prov.:</strong></td>
              <td class="pad"></td>
              <td><em>{{billAddress.geographicalRegion}}</em></td>
            </tr>
            <tr>
              <td><strong>ZipCode:</strong></td>
              <td class="pad"></td>
              <td><em>{{billAddress.zipCode}}</em></td>
            </tr>
            <tr>
              <td><strong>Telephone:</strong></td>
              <td class="pad"></td>
              <td><em>{{billAddress.telephone}}</em></td>
            </tr>
          </table>
        </a>
        <a href="#billingAddressPopupMenu" data-rel="popup" data-inline="true" data-transition="slideup"
           data-position-to="window" data-icon="gear" data-theme="c"
           ng-click="setBillInfo(billAddress); selectBillAddress(billAddress, $index)"></a>
      </li>
    </ul>
  </div>

</div>

<div data-role="collapsible" data-theme="a" data-content-theme="false">
  <h2>My Ratings</h2>
  <ul data-role="listview" data-theme="a" data-divider-theme="b" id="ratingList">
    <li data-role="list-divider">
      <table>
        <tr>
          <td><strong>Total Average User Rating</strong></td>
          <td>
              <span class="ui-li-count">
                <div class="star" data-score="{{ rating.avgRating }}"></div>
              </span>
          </td>
        </tr>
      </table>
    </li>
    <li ng-repeat="rating in ratings" data-icon="false">
      <a href="#">
        <table>
          <tr>
            <td><strong>User:</strong></td>
            <td class="pad"></td>
            <td><em>{{rating.raterName}}</em></td>
          </tr>
          <tr>
            <td><strong>Rating:</strong></td>
            <td class="pad"></td>
            <td>
              <div class="star" data-score="{{ rating.rating }}"></div>
            </td>
          </tr>
        </table>
      </a>
    </li>
  </ul>
</div>

</div>

<div data-role="popup" id="mailingAddressPopupMenu" data-theme="b">
  <div style="padding:10px 20px;">
    <h3>Choose An Action</h3>
    <a href="#edit-mailing-address" class="ui-btn ui-btn-a ui-icon-edit ui-btn-icon-right ui-btn-corner-all">Edit</a>
    <a href="#profile" class="ui-btn ui-btn-a ui-icon-delete ui-btn-icon-right ui-btn-corner-all"
       ng-click="deleteMailAddress()">Delete</a>
    <a href="#profile" class="ui-btn ui-btn-a ui-icon-back ui-btn-icon-right ui-btn-corner-all">Cancel</a>
  </div>
</div>

<div data-role="popup" id="billingAddressPopupMenu" data-theme="b">
  <div style="padding:10px 20px;">
    <h3>Choose An Action</h3>
    <a href="#edit-billing-address" class="ui-btn ui-btn-a ui-icon-edit ui-btn-icon-right ui-btn-corner-all">Edit</a>
    <a href="#profile" class="ui-btn ui-btn-a ui-icon-delete ui-btn-icon-right ui-btn-corner-all"
       ng-click="deleteBillAddress()">Delete</a>
    <a href="#profile" class="ui-btn ui-btn-a ui-icon-back ui-btn-icon-right ui-btn-corner-all">Cancel</a>
  </div>
</div>

<div data-role="footer" data-theme="a"><h1></h1></div>

</div>
