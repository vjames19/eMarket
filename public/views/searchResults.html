<div data-role="page" data-theme="b" id="search-results">

  <div data-role="panel" id="searchResults-refine-panel" data-position="right" data-display="overlay" data-theme="a">
    <ul data-role="listview" data-divider-theme="b">
      <li><a href="#" data-rel="close" class="ui-icon-check">Done</a></li>
      <li data-role="list-divider">Sort by</li>
      <li ng-repeat="sortOption in sortOptions">
        <a href="#" ng-click="sortBy(sortOption)">{{ sortOption.name }}</a>
      </li>
    </ul>
  </div>

  <div data-role="header" data-position="fixed" data-theme="a">
    <h1>Search Results</h1>
    <a href="#" data-role="button" data-rel="back" data-icon="back" data-direction="reverse">Back</a>

    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right">
      <a href="#searchResults-refine-panel" class="ui-btn ui-shadow ui-icon-gear ui-btn-icon-notext ui-mini">Refine</a>
      <a href="#shopping-cart" class="ui-btn ui-shadow ui-icon-shop ui-btn-icon-notext ui-mini">Cart</a>
    </div>
    <form data-ajax="false" ng-submit="submitSearch()">
      <label for="searchResults-search" class="ui-hidden-accessible"></label>
      <input name="searchResults-search" id="searchResults-search" type="search" data-mini="true"
             placeholder="Search Products..." ng-model="searchQuery">
    </form>
  </div>

  <div data-role="content">

    <ul data-role="listview" data-theme="b" data-divider-theme="a" data-inset="true" id="searchResult-resultList">
      <li data-role="list-divider">
        <table>
          <tr>
            <td>Products</td>
            <td><span class="ui-li-count">{{results.length}}</span></td>
          </tr>
        </table>
      </li>
      <li ng-repeat="result in results | orderBy: selectedSortOption.property">
        <a href="#item-view" data-transition="slide" ng-click="setItem(result)">
          <table class="ui-responsive medium-text wrap-text">
            <tr>
              <th rowspan="4">
                <img ng-src="{{result.picture}}" class="item-photo-small ui-corner-all">
              </th>
              <th rowspan="4" class="pad"></th>
              <th colspan="3">
                <strong><abbr title="{{ result.productName | truncate:15 }}">
                  {{ result.productName | truncate:15 }}</abbr></strong>
              </th>
            </tr>
            <tr>
              <td><strong>Brand</strong></td>
              <td class="pad"></td>
              <td><em>{{ result.brand }}</em></td>
            </tr>
            <tr>
              <td><strong>Current Bid</strong></td>
              <td class="pad"></td>
              <td><em>{{ result.currentBid | currency }}</em></td>
            </tr>
            <tr>
              <td><strong>Price</strong></td>
              <td class="pad"></td>
              <td><em>{{ result.nonbidPrice | currency }}</em></td>
            </tr>
          </table>
        </a>
      </li>
    </ul>

  </div>

  <div data-role="footer" data-theme="a"><h1></h1></div>

</div>
